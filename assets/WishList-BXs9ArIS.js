import{j as t,B as i,a4 as w,n as D,i as b,r as d,S as L,l as F,m as O,k as M,H as W,a5 as E,Y as g,M as R,U,a6 as X,e as Y,a7 as z,a2 as G}from"./index-CxWlqCSY.js";import{h as V}from"./moment-C5S46NFB.js";import{C}from"./CheckBox-031KPp3d.js";import{C as K,E as $}from"./confirmdialog.esm-BVKUtnye.js";import{I as J}from"./index-D5P4fnW5.js";import{F as Q,c as Z}from"./contactService-B2SRVUSf.js";import"./CSSTransition-ICkOA9w9.js";import"./index-myOYMjSo.js";const tt="_container_1rt1q_1",st="_wishlistTable_1rt1q_5",et="_columnPrice_1rt1q_25",ct="_columnStatus_1rt1q_26",ot="_checkBox_1rt1q_33",nt="_productInfo_1rt1q_36",at="_priceProduct_1rt1q_57",rt="_skuProduct_1rt1q_68",it="_inStock_1rt1q_86",lt="_outOfStock_1rt1q_89",dt="_actions_1rt1q_92",ut="_boxBtn_1rt1q_95",ht="_createdAt_1rt1q_126",xt="_price_1rt1q_57",pt="_status_1rt1q_132",mt="_formActions_1rt1q_137",jt="_containerDialog_1rt1q_163",_t="_boxInfo_1rt1q_169",ft="_boxContentInfo_1rt1q_179",kt="_boxContact_1rt1q_185",s={container:tt,wishlistTable:st,columnPrice:et,columnStatus:ct,checkBox:ot,productInfo:nt,priceProduct:at,skuProduct:rt,inStock:it,outOfStock:lt,actions:dt,boxBtn:ut,createdAt:ht,price:xt,status:pt,formActions:mt,containerDialog:jt,boxInfo:_t,boxContentInfo:ft,boxContact:kt};function gt({wishlist:r,showDetail:m,navigateDetail:u,remove:j,handleSelect:h,handleSelectAll:x,handleNavigateToDetail:l,selected:n,getPriceRange:a}){return t.jsx("div",{className:s.wishlistTable,children:t.jsxs("table",{children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:t.jsx(C,{name:"all",value:n.length===r.length,updateValue:x})}),t.jsx("th",{className:s.columnProduct,children:"SẢN PHẨM"}),t.jsx("th",{className:s.columnPrice,children:"GIÁ"}),t.jsx("th",{className:s.columnStatus,children:"TRẠNG THÁI"}),t.jsx("th",{className:s.columnAction})]})}),t.jsx("tbody",{children:r.map((e,p)=>t.jsxs("tr",{children:[t.jsx("td",{className:s.checkBox,children:t.jsx(C,{name:e,value:n.includes(e),updateValue:h})}),t.jsxs("td",{className:s.productInfo,children:[t.jsx("img",{src:e.product.images[0].url,alt:e.product.images[0].filename,onClick:()=>l(e.product.id)}),t.jsxs("div",{className:s.contentProduct,children:[t.jsx("p",{onClick:()=>l(e.product.id),children:e.product.name}),t.jsxs("p",{className:s.skuProduct,children:["SKU: ",t.jsx("span",{children:e.product.sku})]}),t.jsx("p",{className:s.priceProduct,children:a(e.product.productDetails)})]})]}),t.jsx("td",{className:s.price,children:t.jsx("span",{children:a(e.product.productDetails)})}),t.jsx("td",{className:s.status,children:e.product.status==1?t.jsx("span",{className:s.inStock,children:"✔ In stock"}):t.jsx("span",{className:s.outOfStock,children:"X Out stock"})}),t.jsxs("td",{className:s.actions,children:[t.jsxs("div",{className:s.boxBtn,children:[t.jsx(i,{content:t.jsx(w,{}),isPrimary:!1,onClick:()=>m(e.product),isTippy:!0,titleTippy:"Xem"}),t.jsx(i,{onClick:()=>u(e.product.id),content:"XEM CHI TIẾT"}),t.jsx(i,{onClick:()=>u(e.product.id),content:t.jsxs(t.Fragment,{children:[" ",t.jsx(D,{})," "]})}),t.jsx(i,{content:t.jsx(b,{}),isPrimary:!1,onClick:()=>j(e.id),isTippy:!0,titleTippy:"Xóa"})]}),t.jsxs("span",{className:s.createdAt,children:["Ngày thêm:"," ",V(e.createdAt).format("DD-MM-YYYY")]})]})]},p))})]})})}function yt(){const{listWList:r,setIsOpen:m,setType:u,setProduct:j,handleGetListWishList:h}=d.useContext(L),{toast:x}=d.useContext(F),l=O.get("id"),[n,a]=d.useState([]),[e,p]=d.useState(!1),[S,_]=d.useState(!1),f=M(),I=()=>{console.log(n),z(n).then(c=>{a([]),h(l)}).catch(c=>{console.log(c)})},N=()=>{f("/shop")},P=c=>{j(c),m(!0),u("detail")},k=c=>{const o=`/product/${c}`;f(o)},q=c=>{G(c).then(o=>{h(l)}).catch(o=>{console.log(o)})},v=()=>{if(!n.length){x.warning("Please, choose any product by clicking checkbox");return}p(!0)},y=(c,o)=>{a(c?[...n,o]:n.filter(H=>H!==o))},T=c=>{a(c?r:[])},A=c=>{Z(c).then(o=>{x.success("Thank you for your message. It has been sent.")}).catch(o=>{console.log(o)})},B=()=>{_(!1)};return t.jsxs(t.Fragment,{children:[t.jsx(W,{}),t.jsxs("div",{className:s.container,children:[t.jsx(E,{icon:t.jsx(g,{size:17}),title:"YÊU THÍCH"}),r.length?t.jsxs(t.Fragment,{children:[t.jsxs(R,{children:[t.jsx(gt,{wishlist:r,showDetail:P,navigateDetail:k,remove:q,handleSelect:y,handleSelectAll:T,handleNavigateToDetail:k,selected:n,getPriceRange:U}),t.jsxs("div",{className:s.formActions,children:[t.jsx(i,{content:t.jsxs(t.Fragment,{children:[t.jsx(b,{})," Xóa tất cả"]}),onClick:()=>v()}),t.jsx(i,{content:t.jsxs(t.Fragment,{children:[t.jsx(X,{})," Liên hệ"]}),onClick:()=>_(!0),isPrimary:!1})]})]}),t.jsx(K,{group:"declarative",visible:e,onHide:()=>p(!1),message:"Bạn có chắc muốn xóa không?",header:"Xác nhận",style:{width:"50vw"},breakpoints:{"1100px":"75vw","960px":"100vw"},icon:t.jsx(J,{size:30}),accept:I})]}):t.jsx($,{icon:t.jsx(g,{size:40}),handleNavigateToShop:N,title:"WISHLIST"})]}),t.jsx(Q,{handleCreateContact:A,isOpenAboutUs:S,handleHideContact:B}),t.jsx(Y,{})]})}export{yt as default};
