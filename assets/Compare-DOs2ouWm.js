import{a8 as v,r as o,S as T,l as A,m as H,k as I,j as t,H as O,a5 as z,Z as g,M as E,i as f,U as F,B as h,a9 as M,aa as P,L as G,e as D,a0 as V,ab as X}from"./index-8iJ7KZwU.js";import{C as U,E as W}from"./confirmdialog.esm-BzdN7-6G.js";import{C as _}from"./CheckBox-X4xcDKSd.js";import{I as K}from"./index-BJndYA9g.js";import"./CSSTransition-D8rB879W.js";const Z="_container_18wdq_1",J="_loading_18wdq_1",Q="_previous_18wdq_14",Y="_next_18wdq_44",$="_productComparison_18wdq_74",tt="_image_18wdq_121",st="_checkbox_18wdq_138",et="_inStock_18wdq_145",nt="_outOfStock_18wdq_156",it="_boxBtn_18wdq_171",ot="_slider_18wdq_197",n={container:Z,loading:J,previous:Q,next:Y,productComparison:$,image:tt,delete:"_delete_18wdq_125",checkbox:st,inStock:et,outOfStock:nt,boxBtn:it,slider:ot};function dt(i){return v({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",strokeWidth:"2",points:"7 2 17 12 7 22"},child:[]}]})(i)}function at(i){return v({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",strokeWidth:"2",points:"7 2 17 12 7 22",transform:"matrix(-1 0 0 1 24 0)"},child:[]}]})(i)}function ut(){const{compareList:i,handleGetListCompare:x}=o.useContext(T),{toast:C}=o.useContext(A),[e,k]=o.useState([]),[S,d]=o.useState(!1),[a,c]=o.useState([]),[w,u]=o.useState(!1),p=H.get("id");o.useEffect(()=>{k([...i])},[i]);const b=I(),r=o.useRef(null);for(;(e==null?void 0:e.length)<4&&(e==null?void 0:e.length)>0;)e.push({product:[{id:"",name:"",description:"",productDetails:[],images:[],sku:"",status:void 0,brand:void 0}]});const j=s=>{r.current&&(s==="left"?r.current.scrollLeft-=237:r.current.scrollLeft+=237)},m=()=>{b("/shop")},N=(s,l)=>{c(s?[...a,l]:a.filter(L=>L!==l))},q=s=>{c(s?i:[])},y=s=>{d(!0),V(s).then(l=>{x(p),d(!1)}).catch(l=>{d(!1),console.log(l)})},B=()=>{if(!a.length){C.warning("Vui lòng đánh dấu vào ô chọn sản phẩm");return}u(!0)},R=()=>{d(!0),X(a).then(s=>{c([]),x(p),d(!1)}).catch(s=>{d(!1),console.log(s)})};return t.jsxs(t.Fragment,{children:[t.jsx(O,{}),t.jsxs("div",{className:n.container,children:[t.jsx(z,{icon:t.jsx(g,{}),size:17,title:"SO SÁNH",style:{marginTop:"83px"}}),t.jsx(E,{style:{position:"relative"},children:e.length?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:n.previous,onClick:()=>j("left"),children:t.jsx(at,{size:25})}),t.jsx("div",{className:n.productComparison,ref:r,children:t.jsx("table",{children:t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{}),e.map(s=>t.jsx("th",{children:s.product.id&&t.jsxs("button",{className:n.delete,onClick:()=>y(s.id),children:[t.jsx(f,{})," ","Xóa"]})},s.product.id))]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Hình ảnh"}),e.map(s=>t.jsx("td",{children:s.product.images&&t.jsx("img",{className:n.image,src:s.product.images[0].url,alt:s.product.images[0].filename})},s.product.id))]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Sản Phẩm"}),e.map(s=>t.jsx("td",{children:s.product.name},s.product.id))]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Giá"}),e.map(s=>t.jsx("td",{children:s.product.productDetails&&F(s.product.productDetails)},s.product.id))]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Chi tiết"}),e.map(s=>t.jsx("td",{children:s.product.id&&t.jsx(h,{content:"Xem chi tiết"})},s.product.id))]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Trạng Thái"}),e.map(s=>t.jsxs("td",{className:n.stockStatus,children:[s.product.status==1?t.jsx("div",{className:n.inStock,children:t.jsxs("span",{children:[t.jsx(M,{})," Còn hàng"]})}):"",s.product.status==0?t.jsx("div",{className:n.outOfStock,children:t.jsxs("span",{children:[t.jsx(P,{}),"Hết hàng"]})}):""]},s.product.id))]}),t.jsxs("tr",{children:[t.jsx("td",{children:"Thương Hiệu"}),e.map(s=>t.jsx("td",{children:s.product.brand&&t.jsx("img",{src:s.product.brand.imageUrl,alt:s.product.brand.name})},s.product.id))]}),t.jsxs("tr",{children:[t.jsx("td",{children:"SKU"}),e.map(s=>t.jsx("td",{children:s.product.sku},s.product.id))]}),t.jsxs("tr",{children:[t.jsx("td",{children:t.jsxs("div",{className:n.checkbox,children:[t.jsx(_,{name:"all",value:a.length===i.length,updateValue:q}),"Chọn Tất Cả"]})}),e.map(s=>t.jsx("td",{children:s.product.id&&t.jsx(_,{name:s,value:a.includes(s),updateValue:N})},s.product.id))]})]})})}),t.jsx("div",{className:n.next,onClick:()=>j("right"),children:t.jsx(dt,{size:25})}),t.jsxs("div",{className:n.boxBtn,children:[t.jsx(h,{onClick:()=>B(),content:t.jsxs(t.Fragment,{children:[" ",t.jsx(f,{})," Xóa tất cả"]}),isPrimary:!1}),t.jsx(h,{onClick:()=>m(),content:"So sánh thêm sản phảm",style:{width:"213px"}})]}),S&&t.jsx("div",{className:n.loading,children:t.jsx(G,{size:25})}),t.jsx(U,{group:"declarative",visible:w,onHide:()=>u(!1),message:"Bạn có chắc muốn xóa sản phẩm so sánh không?",header:"Xác nhận",style:{width:"50vw"},breakpoints:{"1100px":"75vw","960px":"100vw"},icon:t.jsx(K,{size:30}),accept:R})]}):t.jsx(W,{icon:t.jsx(g,{size:40}),handleNavigateToShop:m,title:"COMPARE"})}),t.jsx(D,{})]})]})}export{ut as default};
